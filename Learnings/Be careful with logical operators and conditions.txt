for(int i=0;i<arr.length;i++){
            if(i>0 && arr[i]!=arr[i-1])
            hm.put(arr[i],i);
            else if(i==0)
                hm.put(arr[i],i);
        }

//This above is the corrected code. And what it signifies is that we will put the smallest index of every arr element. And the first if condition means that if i isnt 0 plus it isn't duplicate as its earlier element, then add it to hm. but if it i is zero, dont check any condition just put it as it is.
However, earlier I had done this question like this:

for(int i=0;i<arr.length;i++){
            if(i>0 && arr[i]!=arr[i-1])
            hm.put(arr[i],i);
        }
//The fault in above code is that although it checked that the element not be duplicate and only then it admits it into hm, it doesn't leave room for arr[0] to enter.
pehle maine arr[i]!=arr[i-1] kiya tha then it gave error so i added i>0. but forgot to make room for arr[0].

btw this code snippet is from solution to leetcode Q1365